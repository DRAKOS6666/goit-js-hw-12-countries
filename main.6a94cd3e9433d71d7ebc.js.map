{"version":3,"sources":["webpack:///./templates/countryList.hbs","webpack:///./modules/fetchCountries.js","webpack:///./modules/notifier.js","webpack:///./index.js","webpack:///./templates/countryItem.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","fetchCountries","searchQuery","fetch","then","res","json","toastr","require","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","notify","action","status","error","success","warning","console","log","debounce","refs","input","document","getElementById","result","querySelector","handleClick","event","target","textContent","correctItemValue","itemProp","population","Intl","NumberFormat","format","markupResult","string","innerHTML","addEventListener","value","items","length","countryItem","nameArr","map","item","name","countryList","firstElementChild","nodeName","founded","foundedName","find","ChooseFromList","catch","err","key","helper","alias1","alias2","hooks","helperMissing","alias4"],"mappings":"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","file":"main.6a94cd3e9433d71d7ebc.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <li class=\\\"item-list-element\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"item-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","function fetchCountries(searchQuery) {\r\n    return fetch(`\r\n    https://restcountries.eu/rest/v2/name/${searchQuery}`).then(res => res.json());\r\n}\r\n\r\nexport default fetchCountries;","import '../../node_modules/toastr/build/toastr.css';\r\nconst toastr = require('toastr');\r\n\r\ntoastr.options = {\r\n  closeButton: true,\r\n  debug: false,\r\n  newestOnTop: false,\r\n  progressBar: true,\r\n  positionClass: 'toast-bottom-right',\r\n  preventDuplicates: true,\r\n  onclick: null,\r\n  showDuration: '300',\r\n  hideDuration: '1000',\r\n  timeOut: '5000',\r\n  extendedTimeOut: '1000',\r\n  showEasing: 'swing',\r\n  hideEasing: 'linear',\r\n  showMethod: 'fadeIn',\r\n  hideMethod: 'fadeOut',\r\n};\r\n\r\nfunction notify(action, status = true) {\r\n  switch (action) {\r\n    case 'isEmpty':\r\n      if (!status) {\r\n        toastr.success('Successful search');\r\n      } else if (status) {\r\n        toastr.error(\r\n          'Enter text in the search box.',\r\n          'Empty search input form',\r\n        );\r\n      }\r\n      break;\r\n\r\n    case 'isToMany':\r\n      if (!status) {\r\n        toastr.success('It was found a couple of results.');\r\n      } else if (status) {\r\n        toastr.warning(\r\n          'Please enter a more specific query!',\r\n          'Too many matches found',\r\n        );\r\n      }\r\n      break;\r\n\r\n    case 'isError':\r\n      if (status) {\r\n        toastr.error('Try a different search query.', 'Search error');\r\n      }\r\n      break;\r\n\r\n    default:\r\n      console.log('Error. Unknow notify action: notify(action, status)');\r\n\r\n      break;\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import './styles.css';\r\nimport fetchCountries from './modules/fetchCountries';\r\nimport notify from './modules/notifier';\r\nimport countryList from './templates/countryList.hbs';\r\nimport countryItem from './templates/countryItem.hbs';\r\nconst debounce = require('lodash.debounce');\r\n\r\nconst refs = {\r\n  input: document.getElementById('input-search'),\r\n  result: document.querySelector('.search-result'),\r\n};\r\n\r\nconst handleInput = event => {\r\n  fetchCountries(event.target.value)\r\n    .then(items => {\r\n      console.log(items);\r\n\r\n      markupResult('');\r\n\r\n      if (items.length === 1) {\r\n        correctItemValue(items[0]);\r\n        notify('isEmpty', false);\r\n        markupResult(countryItem(items[0]));\r\n        return;\r\n      }\r\n      if (items.length > 10) {\r\n        notify('isToMany', true);\r\n        return;\r\n      }\r\n      if (items.length <= 10) {\r\n        notify('isToMany', false);\r\n        const nameArr = items.map(item => item.name);\r\n        markupResult(countryList(nameArr));\r\n\r\n        if (refs.result.firstElementChild.nodeName === 'UL') {\r\n          ChooseFromList(items);\r\n        }\r\n        return;\r\n      }\r\n      if (items instanceof Object) {\r\n        notify('isError', true);\r\n        markupResult('<h3>Nothing found</h3>');\r\n        return;\r\n      }\r\n    })\r\n    .catch(err => {\r\n      notify('isError');\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nfunction ChooseFromList(items) {\r\n  refs.founded = document.querySelector('.item-list');\r\n  refs.founded.addEventListener('click', event => {\r\n    if (event.target.nodeName === 'LI') {\r\n      const foundedName = items.find(item => item.name === handleClick(event));\r\n      correctItemValue(foundedName);\r\n      markupResult(countryItem(foundedName));\r\n    }\r\n  });\r\n}\r\n\r\nconst handleClick = event => {\r\n  return event.target.textContent;\r\n};\r\n\r\nconst correctItemValue = itemProp => {\r\n  itemProp.population = new Intl.NumberFormat('ru-RU').format(\r\n    itemProp.population,\r\n  );\r\n};\r\n\r\nconst markupResult = string => {\r\n  refs.result.innerHTML = string;\r\n};\r\n\r\nrefs.input.addEventListener('input', debounce(handleInput, 500));\r\nrefs.input.addEventListener('keypress', event => {\r\n  if (event.key === 'Enter' && event.target.value === '') {\r\n    notify('isEmpty', true);\r\n  }\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <li class=\\\"coutry-lang-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h3 class=\\\"country-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":26},\"end\":{\"line\":1,\"column\":34}}}) : helper)))\n    + \"</h3>\\r\\n<div class=\\\"container\\\">\\r\\n    <div class=\\\"country-info\\\">\\r\\n        <p>Capital: <span class=\\\"country-info-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":52},\"end\":{\"line\":4,\"column\":63}}}) : helper)))\n    + \"</span></p>\\r\\n        <p>Population: <span class=\\\"country-info-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":55},\"end\":{\"line\":5,\"column\":69}}}) : helper)))\n    + \"</span></p>\\r\\n        <p>Languages: </p>\\r\\n        <ul class=\\\"country-langs\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":12},\"end\":{\"line\":10,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n    </div>\\r\\n    <div class=\\\"country-flag\\\">\\r\\n        <img class=\\\"flag-img\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":35},\"end\":{\"line\":14,\"column\":43}}}) : helper)))\n    + \"\\\" alt=\\\"country flag image\\\">\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}